<?xml version="1.0" encoding="UTF-8"?>
<database>
	<name>*dbname*</name>
	<create>true</create>
	<overwrite>false</overwrite>
	<charset>utf8</charset>

	<table>
		<name>*dbprefix*social_server_actors</name>
		<declaration>

			<field>
				<name>id</name>
				<type>text</type>
				<length>127</length>
				<notnull>true</notnull>
				<primary>true</primary>
			</field>

			<field>
				<name>user_id</name>
				<type>text</type>
				<length>63</length>
				<notnull>true</notnull>
			</field>

			<field>
				<name>preferred_username</name>
				<type>text</type>
				<length>127</length>
				<notnull>true</notnull>
			</field>

			<field>
				<name>name</name>
				<type>text</type>
				<length>127</length>
				<notnull>true</notnull>
			</field>

			<field>
				<name>summary</name>
				<type>text</type>
				<length>3000</length>
				<notnull>true</notnull>
			</field>

			<field>
				<name>public_key</name>
				<type>text</type>
				<length>1000</length>
			</field>

			<field>
				<name>private_key</name>
				<type>text</type>
				<length>2000</length>
			</field>

			<field>
				<name>avatar_version</name>
				<type>integer</type>
				<length>2</length>
				<notnull>false</notnull>
			</field>

			<field>
				<name>creation</name>
				<type>timestamp</type>
			</field>

		</declaration>
	</table>

	<table>
		<name>*dbprefix*social_server_follows</name>
		<declaration>

			<field>
				<name>id</name>
				<type>text</type>
				<length>127</length>
				<notnull>true</notnull>
				<primary>true</primary>
			</field>

			<field>
				<name>type</name>
				<type>text</type>
				<length>31</length>
				<notnull>false</notnull>
			</field>

			<field>
				<name>actor_id</name>
				<type>text</type>
				<length>127</length>
				<notnull>true</notnull>
			</field>

			<field>
				<name>object_id</name>
				<type>text</type>
				<length>127</length>
				<notnull>true</notnull>
			</field>

			<field>
				<name>follow_id</name>
				<type>text</type>
				<length>127</length>
				<notnull>true</notnull>
			</field>

			<field>
				<name>accepted</name>
				<type>boolean</type>
				<default>false</default>
				<notnull>true</notnull>
			</field>

			<field>
				<name>creation</name>
				<type>timestamp</type>
			</field>

		</declaration>
	</table>

	<table>
		<name>*dbprefix*social_server_notes</name>
		<declaration>

			<field>
				<name>id</name>
				<type>text</type>
				<length>127</length>
				<notnull>true</notnull>
				<primary>true</primary>
			</field>

			<field>
				<name>type</name>
				<type>text</type>
				<length>31</length>
				<notnull>true</notnull>
			</field>

			<field>
				<name>to</name>
				<type>text</type>
				<length>127</length>
				<notnull>true</notnull>
			</field>

			<field>
				<name>to_array</name>
				<type>text</type>
				<length>2000</length>
				<notnull>true</notnull>
			</field>

			<field>
				<name>cc</name>
				<type>text</type>
				<length>127</length>
				<notnull>true</notnull>
			</field>

			<field>
				<name>bcc</name>
				<type>text</type>
				<length>127</length>
				<notnull>true</notnull>
			</field>

			<field>
				<name>content</name>
				<type>text</type>
				<length>3000</length>
				<notnull>true</notnull>
			</field>

			<field>
				<name>summary</name>
				<type>text</type>
				<length>3000</length>
				<notnull>true</notnull>
			</field>

			<field>
				<name>published</name>
				<type>text</type>
				<length>31</length>
				<notnull>true</notnull>
			</field>

			<field>
				<name>published_time</name>
				<type>timestamp</type>
				<default>0</default>
			</field>

			<field>
				<name>attributed_to</name>
				<type>text</type>
				<length>127</length>
			</field>

			<field>
				<name>in_reply_to</name>
				<type>text</type>
				<length>127</length>
			</field>

			<field>
				<name>source</name>
				<type>text</type>
				<length>3000</length>
				<notnull>true</notnull>
			</field>

			<field>
				<name>instances</name>
				<type>text</type>
				<length>3000</length>
				<notnull>true</notnull>
			</field>

			<field>
				<name>creation</name>
				<type>timestamp</type>
			</field>

			<field>
				<name>local</name>
				<type>boolean</type>
				<default>false</default>
				<notnull>true</notnull>
			</field>

		</declaration>
	</table>

	<table>
		<name>*dbprefix*social_cache_actors</name>
		<declaration>

			<field>
				<name>id</name>
				<type>string</type>
				<length>127</length>
				<notnull>true</notnull>
				<primary>true</primary>
			</field>

			<field>
				<name>type</name>
				<type>text</type>
				<length>31</length>
				<notnull>true</notnull>
			</field>

			<field>
				<name>account</name>
				<type>text</type>
				<length>127</length>
				<notnull>true</notnull>
			</field>

			<field>
				<name>local</name>
				<type>boolean</type>
				<default>false</default>
				<notnull>true</notnull>
			</field>

			<field>
				<name>following</name>
				<type>text</type>
				<length>127</length>
				<notnull>true</notnull>
			</field>

			<field>
				<name>followers</name>
				<type>text</type>
				<length>127</length>
				<notnull>true</notnull>
			</field>

			<field>
				<name>inbox</name>
				<type>text</type>
				<length>127</length>
				<notnull>true</notnull>
			</field>

			<field>
				<name>shared_inbox</name>
				<type>text</type>
				<length>127</length>
				<notnull>true</notnull>
			</field>

			<field>
				<name>outbox</name>
				<type>text</type>
				<length>127</length>
				<notnull>true</notnull>
			</field>

			<field>
				<name>featured</name>
				<type>text</type>
				<length>127</length>
				<notnull>true</notnull>
			</field>

			<field>
				<name>url</name>
				<type>text</type>
				<length>127</length>
				<notnull>true</notnull>
			</field>

			<field>
				<name>preferred_username</name>
				<type>text</type>
				<length>127</length>
				<notnull>true</notnull>
			</field>

			<field>
				<name>name</name>
				<type>text</type>
				<length>127</length>
				<notnull>true</notnull>
			</field>

			<field>
				<name>icon_id</name>
				<type>text</type>
				<length>127</length>
				<notnull>false</notnull>
			</field>

			<field>
				<name>summary</name>
				<type>text</type>
				<length>3000</length>
				<notnull>true</notnull>
			</field>

			<field>
				<name>public_key</name>
				<type>text</type>
				<length>500</length>
				<notnull>true</notnull>
			</field>

			<field>
				<name>source</name>
				<type>text</type>
				<length>3000</length>
				<notnull>true</notnull>
			</field>

			<field>
				<name>details</name>
				<type>text</type>
				<length>3000</length>
				<notnull>false</notnull>
			</field>

			<field>
				<name>creation</name>
				<type>timestamp</type>
			</field>

		</declaration>
	</table>

	<table>
		<name>*dbprefix*social_cache_documents</name>
		<declaration>

			<field>
				<name>id</name>
				<type>string</type>
				<length>127</length>
				<notnull>true</notnull>
				<primary>true</primary>
			</field>

			<field>
				<name>type</name>
				<type>text</type>
				<length>31</length>
				<notnull>true</notnull>
			</field>

			<field>
				<name>media_type</name>
				<type>text</type>
				<length>63</length>
				<notnull>true</notnull>
			</field>

			<field>
				<name>mime_type</name>
				<type>text</type>
				<length>63</length>
				<notnull>true</notnull>
			</field>

			<field>
				<name>url</name>
				<type>text</type>
				<length>127</length>
				<notnull>true</notnull>
			</field>

			<field>
				<name>local_copy</name>
				<type>text</type>
				<length>127</length>
				<notnull>true</notnull>
			</field>

			<field>
				<name>public</name>
				<type>boolean</type>
				<notnull>true</notnull>
			</field>

			<field>
				<name>error</name>
				<type>integer</type>
				<length>1</length>
				<notnull>true</notnull>
			</field>

			<field>
				<name>creation</name>
				<type>timestamp</type>
			</field>

			<field>
				<name>caching</name>
				<type>timestamp</type>
			</field>

			<index>
				<name>unique_url</name>
				<unique>true</unique>
				<field>
					<name>url</name>
				</field>
			</index>
		</declaration>
	</table>

	<table>
		<name>*dbprefix*social_request_queue</name>
		<declaration>

			<field>
				<name>id</name>
				<type>integer</type>
				<length>11</length>
				<unsigned>true</unsigned>
				<notnull>true</notnull>
				<autoincrement>true</autoincrement>
				<primary>true</primary>
			</field>

			<field>
				<name>token</name>
				<type>text</type>
				<length>63</length>
				<notnull>true</notnull>
			</field>

			<field>
				<name>author</name>
				<type>text</type>
				<length>1270</length>
				<notnull>true</notnull>
			</field>

			<field>
				<name>activity</name>
				<type>text</type>
				<length>6000</length>
				<notnull>true</notnull>
			</field>

			<field>
				<name>instance</name>
				<type>text</type>
				<length>500</length>
				<notnull>false</notnull>
			</field>

			<field>
				<name>priority</name>
				<type>integer</type>
				<length>1</length>
				<default>0</default>
				<notnull>false</notnull>
			</field>

			<field>
				<name>status</name>
				<type>integer</type>
				<length>1</length>
				<default>0</default>
				<notnull>false</notnull>
			</field>

			<field>
				<name>tries</name>
				<type>integer</type>
				<length>2</length>
				<default>0</default>
				<notnull>false</notnull>
			</field>

			<field>
				<name>last</name>
				<type>timestamp</type>
			</field>

		</declaration>
	</table>

</database>

